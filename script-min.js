const showPage=function(){const e=document.querySelectorAll(".header-nav__btn"),t=document.querySelectorAll(".page");let o;function s(){e.forEach(e=>{e.classList.remove("header-nav__btn--active")}),this.classList.add("header-nav__btn--active"),function(e){t.forEach(t=>{t.classList.contains(e)?t.classList.add("page-show"):t.classList.remove("page-show")})}(o=this.getAttribute("data-page-name"))}e.forEach(e=>{e.addEventListener("click",s)})};showPage();const inputAddMessege=document.querySelector("#input-text"),inputAddDate=document.querySelector("#input-date"),btnAddMessege=document.querySelector(".main-form__button"),mainTodoList=document.querySelector(".todo-list--todo"),toDoListComplete=document.querySelector(".todo-list--complete");let todoList=[],ToCompleteTasks=[];function checkStorage(){localStorage.getItem("todo")&&(todoList=JSON.parse(localStorage.getItem("todo")),displayMesseges())}function checkCompleteStorage(){localStorage.getItem("todocomplete")&&(ToCompleteTasks=JSON.parse(localStorage.getItem("todocomplete")),displayCompleteMesseges())}function displayMesseges(){let e="";todoList.forEach(function(t,o){function s(e){return e>=0&&e<10?`0${e}`:e}e+=`\n        <li class="todo-list__elem">\n            <div class="todo-list__text">\n                <p>${t.todo}</p>\n                <p class="add-date">Add date: <nobr>year-${t.addyear},</nobr> <nobr>Month-${s(t.addmonth+1)},</nobr> <nobr>Day-${s(t.addday)}</nobr></p>\n            </div>\n            <div class="todo-list__buttons">\n                <button class="btn todo-list__btn delete-btn" data-delete-btn="${o}" type="button" aria-label="click to delete this task">Delete</button>\n                <button class="btn todo-list__btn done-btn" data-done-btn="${o}" type="button" aria-label="click to mark this task as completed!">is done</button>\n            </div>\n\n            <div class="todo-list__time">\n                <span class="todo-list__date-span" id="date__${o}">Deadline &#9760; ${t.deadline}</span>\n            </div>\n        </li>\n        `,mainTodoList.innerHTML=e}),deliteListElem(),addTocomplete()}function deliteListElem(){document.querySelectorAll(".delete-btn").forEach(e=>{e.addEventListener("click",e=>{let t=e.target.getAttribute("data-delete-btn");todoList.splice(t,1),localStorage.setItem("todo",JSON.stringify(todoList)),todoList.length<=0?mainTodoList.innerHTML='<p class="none-list-elem-info">you don\'t have tasks scheduled</p>':displayMesseges()})})}function addTocomplete(){document.querySelectorAll(".done-btn").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=e.target.getAttribute("data-done-btn"),o=JSON.stringify(todoList[t]);ToCompleteTasks.push(JSON.parse(o)),todoList.splice(t,1),localStorage.setItem("todocomplete",JSON.stringify(ToCompleteTasks)),localStorage.setItem("todo",JSON.stringify(todoList)),todoList.length<=0?(mainTodoList.innerHTML='<p class="none-list-elem-info">you don\'t have tasks scheduled</p>',displayCompleteMesseges()):(displayMesseges(),displayCompleteMesseges())})})}function displayCompleteMesseges(){let e="";ToCompleteTasks.forEach(function(t,o){function s(e){return e>=0&&e<10?`0${e}`:e}e+=`\n        <li class="todo-list__elem">\n            <div class="todo-list__text">\n                <p>${t.todo}</p>\n                <p class="add-date">Add date: <nobr>year-${t.addyear},</nobr> <nobr>Month-${s(t.addmonth+1)},</nobr> <nobr>Day-${s(t.addday)}</nobr></p>\n            </div>\n            <div class="todo-list__buttons">\n                <button class="btn todo-list__btn delete-btn" data-delete-btn="${o}" type="button" aria-label="click to delete this task">Delete</button>\n            </div>\n\n            <div class="todo-list__time">\n                <span class="todo-list__date-span" id="date__${o}">Deadline &#9760; ${t.deadline}</span>\n            </div>\n        </li>\n        `,toDoListComplete.innerHTML=e}),deliteCompleteElem()}function deliteCompleteElem(){document.querySelectorAll(".delete-btn").forEach(e=>{e.addEventListener("click",e=>{let t=e.target.getAttribute("data-delete-btn");ToCompleteTasks.splice(t,1),localStorage.setItem("todocomplete",JSON.stringify(ToCompleteTasks)),ToCompleteTasks.length<=0?(toDoListComplete.innerHTML='<p class="none-list-elem-info">You don\'t have any tasks done!</p>',displayCompleteMesseges()):displayCompleteMesseges()})})}checkStorage(),checkCompleteStorage(),btnAddMessege.addEventListener("click",e=>{if(e.preventDefault(),inputAddMessege.value){inputAddMessege.classList.remove("input__error"),inputAddMessege.placeholder="data received";let e={todo:inputAddMessege.value,deadline:inputAddDate.value,addyear:(new Date).getFullYear(),addmonth:(new Date).getMonth(),addday:(new Date).getDate()};inputAddMessege.value="",inputAddDate.value="",todoList.push(e),localStorage.setItem("todo",JSON.stringify(todoList)),displayMesseges()}else inputAddMessege.placeholder="you have not entered data!",inputAddMessege.classList.remove("input__error"),inputAddMessege.offsetWidth=inputAddMessege.offsetWidth,inputAddMessege.classList.add("input__error")});
